<!DOCTYPE html>
<html lang="kk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ë–∞—Å“õ–∞—Ä—É –ü–∞–Ω–µ–ª—ñ</title>
    <link rel="stylesheet" href="css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body class="dashboard-body">

    <div id="admin-panel" class="panel-container">
        <header class="panel-header">
          <h2><%= tAdmin("adminPanel") %></h2>
          <button onclick="logout()" class="logout-btn"><%= tAdmin("logout")%></button>
        </header>

        <div id="sports-view">
          <h3><%= tAdmin("PickSport")%>:</h3>
            <div class="sports-grid" id="sports-grid-admin">
              <% disciplines.forEach(discipline => {%>
              <div class="sport-item" onclick="showCoaches('<%= tDiscipline(discipline) %>', '<%= discipline %>')">
                    <i class="fa-solid ${s.icon}"></i>
                    <h4><%= tDiscipline(discipline) %></h4>
                </div>
              <%})%>
            </div>
        </div>

        <div id="coaches-view" class="hidden">
            <button onclick="goBackToSports()" class="back-btn">‚Üê –°–ø–æ—Ä—Ç —Ç“Ø—Ä–ª–µ—Ä—ñ–Ω–µ “õ–∞–π—Ç—É</button>
            <h3 id="selected-sport-title">–ë–æ–∫—Å –∂–∞—Ç—Ç—ã“õ—Ç—ã—Ä—É—à—ã–ª–∞—Ä—ã:</h3>
            <div class="list-group" id="coaches-list-admin">
                </div>
        </div>

        <div id="manager-view" class="hidden">
            <button onclick="goBackToCoaches()" class="back-btn">‚Üê –ê—Ä—Ç“õ–∞</button>
            <h3 id="manager-coach-name" style="color: var(--primary); margin: 15px 0;">–ë–∞–ø–∫–µ—Ä –∞—Ç—ã</h3>

            <div class="admin-actions-grid">
                <div class="admin-card">
                    <h4>üìÖ –ñ–∞—Ä—ã—Å/–ñ–∏—ã–Ω —Ç–∞“ì–∞–π—ã–Ω–¥–∞—É</h4>
                    <div class="form-group">
                        <select id="event-type"><option>–ñ–∞—Ä—ã—Å</option><option>–û“õ—É-–∂–∞—Ç—Ç—ã“ì—É –∂–∏—ã–Ω—ã</option></select>
                        <input type="text" id="event-name" placeholder="–ê—Ç–∞—É—ã">
                        <input type="text" id="event-loc" placeholder="”®—Ç–µ—Ç—ñ–Ω –∂–µ—Ä—ñ (2GIS —Å—ñ–ª—Ç–µ–º–µ—Å—ñ)">
                        <input type="text" id="event-dates" placeholder="–£–∞“õ—ã—Ç—ã (–ö–ö.–ê–ê - –ö–ö.–ê–ê)">
                        <label>–ï—Ä–µ–∂–µ (PDF): <input type="file" id="event-pdf"></label>
                        <label>–•–∞—Ç—Ç–∞–º–∞ (PDF): <input type="file" id="event-pdf"></label>
                        <button onclick="saveEvent()" class="cta-btn">–¢–∞“ì–∞–π—ã–Ω–¥–∞—É</button>
                    </div>
                </div>

                <div class="admin-card">
                    <h4>‚ûï –°–ø–æ—Ä—Ç—à—ã “õ–æ—Å—É</h4>
                    <div class="form-group">
                        <input type="text" id="new-ath-name" placeholder="–§–ò–û">
                        <input type="date" id="new-ath-dob">
                        <input type="file" id="new-ath-photo" accept="image/*">
                        <button onclick="addAthleteToCoach()" class="cta-btn" style="background:green; color:white;">“ö–æ—Å—É</button>
                    </div>
                </div>
            </div>

            <div class="admin-card full-width" style="margin-top:20px;">
                <h4>–¢—ñ—Ä–∫–µ–ª–≥–µ–Ω —Å–ø–æ—Ä—Ç—à—ã–ª–∞—Ä —Ç—ñ–∑—ñ–º—ñ</h4>
                <div id="coach-athletes-table" class="attendance-list"></div>
                <button onclick="exportExcel()" class="excel-btn"><i class="fa-solid fa-file-excel"></i> Excel –∂“Ø–∫—Ç–µ—É</button>     <!-- ----------- –≠–∫—Å–ø–æ—Ä—Ç —ç–∫—Å–µ–ª—å -->
            </div>
        </div>
    </div>

    <div id="coach-panel" class="panel-container hidden">
        <header class="panel-header">
            <h2 id="coach-welcome">–ë–∞–ø–∫–µ—Ä</h2>
            <button onclick="logout()" class="logout-btn">–®—ã“ì—É</button>
        </header>

        <div class="event-display" id="coach-event-display">
            <h3>–ë–µ–∫—ñ—Ç—ñ–ª–≥–µ–Ω —ñ—Å-—à–∞—Ä–∞:</h3>
            <p id="c-event-info">”ò–∑—ñ—Ä–≥–µ —ñ—Å-—à–∞—Ä–∞ –∂–æ“õ.</p>
            <a href="#" id="c-map-link" target="_blank" class="hidden" style="color:blue; text-decoration:underline;">üìç –ö–∞—Ä—Ç–∞–¥–∞–Ω –∫”©—Ä—É (2GIS)</a>
            <div id="admin-check-block" class="hidden" style="margin-top:10px;">
                <button onclick="confirmArrival()" class="cta-btn" id="arrive-btn">üìç –ú–µ–Ω –∫–µ–ª–¥—ñ–º (–†–∞—Å—Ç–∞—É)</button>
            </div>
        </div>

        <hr style="margin: 20px 0;">

        <h3>–°–ø–æ—Ä—Ç—à—ã–ª–∞—Ä–¥—ã —Ç“Ø–≥–µ–Ω–¥–µ—É</h3>
        <div id="my-athletes-list" class="attendance-list"></div>
        
    </div>

    <script> window.appData = <%- JSON.stringify(coaches)%> </script>
    <script src="js/script.js"></script>
</body>
</html>
